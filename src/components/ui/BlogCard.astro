---
// src/components/ui/BlogCard.astro
export interface Props {
  image: string;
  category: string;
  title: string;
  description: string;
  slug: string;
  publishDate?: string;
  readTime?: string;
  comingSoon?: boolean;
}

const { 
  image, 
  category, 
  title, 
  description, 
  slug,
  publishDate,
  readTime,
  comingSoon = true
} = Astro.props;

const href = comingSoon ? '#' : `/blog/${slug}`;
const linkText = comingSoon ? 'Coming Soon →' : 'Read More →';
---

<article class="bg-gray-700 rounded-xl border border-gray-600 overflow-hidden hover:border-violet-500 transition-all duration-300 hover:transform hover:scale-105">
  <img 
    src={image} 
    alt={title}
    class="w-full h-48 object-cover"
    loading="lazy"
    width="400"
    height="240"
  />
  <div class="p-6">
    <div class="text-sm text-violet-500 font-semibold mb-2">{category}</div>
    <h3 class="text-xl font-bold text-white mb-3 line-clamp-2">{title}</h3>
    <p class="text-gray-300 mb-4 line-clamp-3">{description}</p>
    {(publishDate || readTime) && (
      <div class="flex items-center text-gray-400 text-sm mb-4">
        {publishDate && <span>{publishDate}</span>}
        {publishDate && readTime && <span class="mx-2">•</span>}
        {readTime && <span>{readTime}</span>}
      </div>
    )}
    {comingSoon ? (
      <span class="text-violet-500 font-semibold hover:text-violet-400 cursor-pointer">
        {linkText}
      </span>
    ) : (
      <a 
        href={href} 
        class="text-violet-500 font-semibold hover:text-violet-400 transition-colors"
      >
        {linkText}
      </a>
    )}
  </div>
</article>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>